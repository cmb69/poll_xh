<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Poll_XH – User Manual</title>
  <style type="text/css">
    body {
        font-family: Georgia, serif;
        line-height: 1.5;
        margin-left: auto;
        margin-right: auto;
        padding-left: 0.5em;
        padding-right: 0.5em;
        background: #ffffe1;
        max-width: 32em;
    }
    p {
        text-align: justify;
    }
    pre {
        color: black;
        background: #ffe;
        overflow: auto;
        padding: 0.2em 0.5em;
        border: 1px solid silver;
    }
  </style>
</head>
<body>
<h1 id="poll_xh">Poll_XH</h1>
<p>Poll_XH facilitates to place polls on your CMSimple_XH website. You can have as many polls you like, with as many options you like (single or multiple choice). The voters are distinguished by cookie and IP address, so cheating is somewhat unlikely.</p>
<ul>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#download">Download</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#settings">Settings</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#limitations">Limitations</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
<li><a href="#license">License</a></li>
<li><a href="#credits">Credits</a></li>
</ul>
<h2 id="requirements">Requirements</h2>
<p>Poll_XH is a plugin for <a href="https://www.cmsimple-xh.org/">CMSimple_XH</a>. It requires CMSimple_XH ≥ 1.7.0, and PHP ≥ 7.1.0. Poll_XH also requires the <a href="https://github.com/cmb69/plib_xh">Plib_XH</a> plugin; if that is not already installed (see <em>Settings</em>→<em>Info</em>), get the <a href="https://github.com/cmb69/plib_xh/releases/latest">lastest release</a>, and install it.</p>
<h2 id="download">Download</h2>
<p>The <a href="https://github.com/cmb69/poll_xh/releases/latest">lastest release</a> is available for download on Github.</p>
<h1 id="installation">Installation</h1>
<p>The installation is done as with many other CMSimple_XH plugins.</p>
<ol type="1">
<li>Backup the data on your server.</li>
<li>Unzip the distribution on your computer.</li>
<li>Upload the whole directory <code>poll/</code> to your server into the <code>plugins/</code> directory of CMSimple_XH.</li>
<li>Set write permissions for the subdirectories <code>css/</code> and <code>languages/</code>.</li>
<li>Navigate to <code>Plugins</code> → <code>Poll</code> in the back-end to check if all requirements are fulfilled.</li>
</ol>
<h2 id="settings">Settings</h2>
<p>The configuration of the plugin is done as with many other CMSimple_XH plugins in the back-end of the Website. Go to <code>Plugins</code> → <code>Poll</code>.</p>
<p>Localization is done under <code>Language</code>. You can translate the character strings to your own language (if there is no appropriate language file available), or customize them according to your needs.</p>
<p>The look of Poll_XH can be customized under <code>Stylesheet</code>.</p>
<h2 id="usage">Usage</h2>
<p>You can embed a poll on a CMSimple_XH page with the following plugin call:</p>
<pre><code>{{{poll(&#39;name-of-the-poll&#39;)}}}</code></pre>
<p>To embed a poll in the template use:</p>
<pre><code>&lt;?=poll(&#39;name-of-the-poll&#39;)?&gt;</code></pre>
<p>Instead of <code>name-of-the-poll</code> you can use any name as long as it consists of lowercase latin letters (<code>a</code>-<code>z</code>), digits (<code>0</code>-<code>9</code>) and hyphens only. You can embed as many polls on any single page as you like – they are working independent of each other as long as they have different names.</p>
<p>If the poll has not ended and the visitor has not voted yet, they will be presented the voting view and can submit their vote. After they have voted, they can see the results of the poll.</p>
<p>Currently the poll data files have to be created and edited manually. Just put a file <code>name-of-the-poll.csv</code> into the subfolder <code>poll/</code> of the <code>content/</code> folder of CMSimple_XH. Each voting option has its own line in the file. Additionally there are two meta options, namely <code>%%%MAX%%%</code> and <code>%%%END%%%</code>, which you have to put in separate lines too. Both are optional.</p>
<pre><code>%%%MAX%%%→3</code></pre>
<p>will make a multiple-choice poll where the user can check 3 options at most, and with</p>
<pre><code>%%%END%%%→1335744000</code></pre>
<p>you can specify the end date of the poll as Unix timestamp. Note that the <code>→</code> stands for a <code>TAB</code> character. To calculate the Unix timestamp of a date, you can use an <a href="https://www.onlineconversion.com/unix_time.htm">online converter</a>.</p>
<p>As an example a <code>fifa-2018.csv</code> file is delivered in the <code>help/</code> folder, which is supposed to explain the file format. The end date of this poll is set to the beginning of the 2018 FIFA World Cup Russia (which was in June, 14th 2018). After moving the file to <code>content/poll/</code>, you can embed this poll on a page by writing:</p>
<pre><code>{{{poll(&#39;fifa-2018&#39;)}}}</code></pre>
<h2 id="limitations">Limitations</h2>
<p>Resetting an already running poll is not possible, because respective cookies may already been stored on the computer of a voter, so they could not vote again. As workaround you would have to rename the poll.</p>
<p>32bit versions of PHP cannot handle Unix timestamps larger than <code>2147483647</code> (which is January, 19th 2038). Therefore, with such versions it is not possible to end polls after that date.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<p>Report bugs and ask for support either on <a href="https://github.com/cmb69/imgzoom_xh/issues">Github</a> or in the <a href="https://cmsimpleforum.com/">CMSimple_XH Forum</a>.</p>
<h2 id="license">License</h2>
<p>Poll_XH is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>Poll_XH is distributed in the hope that it will be useful, but without any warranty; without even the implied warranty of merchantibility or fitness for a particular purpose. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with Poll_XH. If not, see https://www.gnu.org/licenses/.</p>
<p>Copyright © Christoph M. Becker</p>
<p>Czech translation © Josef Němec.</p>
<h2 id="credits">Credits</h2>
<p>The plugin logo is designed by <a href="https://www.doublejdesign.co.uk/">Jack Cai</a>. Many thanks for publishing this icon under CC BY-ND.</p>
<p>Many thanks to the community at the <a href="https://www.cmsimpleforum.com">CMSimple_XH forum</a> for tips, suggestions and testing. Particularly I want to thank <em>oldnema</em>, <em>svasti</em>, <em>bca</em> and <em>Tata</em> for early feedback.</p>
<p>And last but not least many thanks to <a href="https://www.harteg.dk/">Peter Harteg</a>, the “father” of CMSimple, and all developers of <a href="https://www.cmsimple-xh.org/">CMSimple_XH</a> without whom this amazing CMS would not exist.</p>
</body>
</html>
